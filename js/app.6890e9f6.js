(()=>{"use strict";var e={78:(e,t,a)=>{var r=a(726);const l={id:"app"};function s(e,t,a,s,o,c){const n=(0,r.g2)("Navbar"),i=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(n),(0,r.bF)(i)])}const o={class:"navbar"},c={class:"nav-links"};function n(e,t,a,l,s,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",o,[(0,r.Lk)("button",{class:"export-button",onClick:t[0]||(t[0]=(...e)=>n.exportToPNG&&n.exportToPNG(...e))},"Export"),t[4]||(t[4]=(0,r.Lk)("h1",null,"Character Creator",-1)),(0,r.Lk)("div",c,[(0,r.bF)(i,{to:"/"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Builder")]))),_:1}),(0,r.bF)(i,{to:"/add-part"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Add Part")]))),_:1}),(0,r.bF)(i,{to:"/find-parts"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Find Parts")]))),_:1})])])}const i={name:"Navbar",methods:{async exportToPNG(){try{const e=document.querySelector(".character-display"),t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.offsetWidth,t.height=e.offsetHeight;const r=async(e,r=0,l=0)=>new Promise(((s,o)=>{const c=new Image;c.crossOrigin="anonymous",c.src=e,c.onload=()=>{a.drawImage(c,r,l,t.width,t.height),s()},c.onerror=o})),l=[".background-layer",".hair-back-layer",".jacket-back-layer",".body-layer",".shirt-layer",".jacket-layer",".ear-layer",".head-layer",".mouth-layer",".nose-layer",".eye-layer",".eyebrow-layer",".hair-layer"];for(const c of l){const t=e.querySelector(c);t&&await r(t.src)}const s=t.toDataURL("image/png"),o=document.createElement("a");o.href=s,o.download="character.png",o.click()}catch(e){console.error("Error exporting character:",e)}}}};var d=a(262);const u=(0,d.A)(i,[["render",n],["__scopeId","data-v-f071a450"]]),p=u,h={components:{Navbar:p}},k=(0,d.A)(h,[["render",s],["__scopeId","data-v-5adf84b4"]]),m=k;var b=a(166);const y={class:"add-part-wrapper"},P={class:"add-part"},g={class:"form-group"},f={class:"form-group"},v={class:"form-group"},L={class:"form-group"},E={key:0,class:"form-group"},C={class:"form-group"},B={key:1,class:"form-group"},S={class:"form-group"},w={class:"radio-group"},_={class:"form-group"},N={key:2,class:"error-message"};function I(e,t,a,l,s,o){return(0,r.uX)(),(0,r.CE)("div",y,[(0,r.Lk)("div",P,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/"))},"Back"),t[26]||(t[26]=(0,r.Lk)("h3",null,"Add a New Part",-1)),(0,r.Lk)("form",{onSubmit:t[12]||(t[12]=(0,r.D$)(((...e)=>o.addPart&&o.addPart(...e)),["prevent"]))},[(0,r.Lk)("div",g,[t[13]||(t[13]=(0,r.Lk)("label",{for:"characterName"},"Character Name (optional)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.part.characterName=e),placeholder:"Enter character name"},null,512),[[r.Jo,s.part.characterName]])]),(0,r.Lk)("div",f,[t[14]||(t[14]=(0,r.Lk)("label",{for:"name"},"Part Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.part.name=e),placeholder:"Enter part name",required:""},null,512),[[r.Jo,s.part.name]])]),(0,r.Lk)("div",v,[t[15]||(t[15]=(0,r.Lk)("label",{for:"style"},"Style (optional)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.part.style=e),placeholder:"Enter style"},null,512),[[r.Jo,s.part.style]])]),(0,r.Lk)("div",L,[t[16]||(t[16]=(0,r.Lk)("label",{for:"type"},"Type (e.g., head, eyes, etc.)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.part.type=e),placeholder:"Enter part type",required:""},null,512),[[r.Jo,s.part.type]])]),"hair"===s.part.type||"jacket"===s.part.type?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>s.part.hasBackPart=e)},null,512),[[r.lH,s.part.hasBackPart]]),t[17]||(t[17]=(0,r.eW)(" Has Back Part "))])])):(0,r.Q3)("",!0),(0,r.Lk)("div",C,[t[18]||(t[18]=(0,r.Lk)("label",{for:"filePath"},"File Path",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>s.part.filePath=e),placeholder:"Enter file path",required:""},null,512),[[r.Jo,s.part.filePath]])]),s.part.hasBackPart?((0,r.uX)(),(0,r.CE)("div",B,[t[19]||(t[19]=(0,r.Lk)("label",{for:"backPartPath"},"Back Part File Path",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>s.part.backPartPath=e),placeholder:"Enter back part file path"},null,512),[[r.Jo,s.part.backPartPath]])])):(0,r.Q3)("",!0),(0,r.Lk)("div",S,[t[23]||(t[23]=(0,r.Lk)("label",{for:"noun"},"Noun",-1)),(0,r.Lk)("div",w,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>s.part.noun=e),value:"Person"},null,512),[[r.XL,s.part.noun]]),t[20]||(t[20]=(0,r.eW)(" Person "))]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=e=>s.part.noun=e),value:"Place"},null,512),[[r.XL,s.part.noun]]),t[21]||(t[21]=(0,r.eW)(" Place "))]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=e=>s.part.noun=e),value:"Thing"},null,512),[[r.XL,s.part.noun]]),t[22]||(t[22]=(0,r.eW)(" Thing "))])])]),(0,r.Lk)("div",_,[t[24]||(t[24]=(0,r.Lk)("label",{for:"tags"},"Tags (comma-separated)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>s.tagsInput=e),placeholder:"Enter tags"},null,512),[[r.Jo,s.tagsInput]])]),s.errorMessage?((0,r.uX)(),(0,r.CE)("div",N,(0,r.v_)(s.errorMessage),1)):(0,r.Q3)("",!0),t[25]||(t[25]=(0,r.Lk)("button",{type:"submit"},"Add Part",-1))],32)])])}var M=a(933),H=a(223),X=a(904);const A={apiKey:{NODE_ENV:"production",VUE_APP_AUTH_DOMAIN:"character-creator-7be8e.firebaseapp.com",VUE_APP_PROJECT_ID:"character-creator-7be8e",VUE_APP_STORAGE_BUCKET:"character-creator-7be8e.appspot.com",VUE_APP_MESSAGING_SENDER_ID:"686916926734",VUE_APP_APP_ID:"1:686916926734:web:aefa4c260c1c59701cab5f",VUE_APP_MEASUREMENT_ID:"G-YEPM1R5F1Q",VUE_APP_DATABASE_URL:"https://character-creator-7be8e-default-rtdb.firebaseio.com/",BASE_URL:"/character_creator/"}.VUE_APP_API_KEY,authDomain:"character-creator-7be8e.firebaseapp.com",databaseURL:"https://character-creator-7be8e-default-rtdb.firebaseio.com/",projectId:"character-creator-7be8e",storageBucket:"character-creator-7be8e.appspot.com",messagingSenderId:"686916926734",appId:"1:686916926734:web:aefa4c260c1c59701cab5f",measurementId:"G-YEPM1R5F1Q"},J=(0,H.Wp)(A),U=((0,X.c7)(J),(0,M.C3)(J)),O={data(){return{part:{characterName:"",name:"",style:"",type:"",noun:"",filePath:"",hasBackPart:!1,backPartPath:"",tags:[]},tagsInput:"",errorMessage:""}},methods:{addPart(){if(!this.part.name||!this.part.type||!this.part.noun||!this.part.filePath)return void(this.errorMessage="Please fill all required fields.");if(this.part.hasBackPart&&!this.part.backPartPath)return void(this.errorMessage="Please enter the back part file path.");this.part.tags=this.tagsInput.split(",").map((e=>e.trim()));const e=(0,M.KR)(U,"parts");(0,M.VC)(e,this.part).then((()=>{this.part={characterName:"",name:"",style:"",type:"",noun:"",filePath:"",hasBackPart:!1,backPartPath:"",tags:[]},this.tagsInput="",this.errorMessage=""}))}}},T=(0,d.A)(O,[["render",I],["__scopeId","data-v-544ea35f"]]),V=T,D={class:"character-builder-wrapper"},x={class:"clear-all"},Q={class:"character-builder"},j={class:"character-display"},F=["src"],R=["src"],W=["src"],$=["src"],G=["src"],Z=["src"],q=["src"],K=["src"],Y=["src"],z=["src"],ee=["src"],te=["src"],ae=["src"],re={class:"side-buttons"};function le(e,t,a,l,s,o){const c=(0,r.g2)("SlidingMenu");return(0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("div",x,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.clearAll&&o.clearAll(...e)),class:"clear-button"},"Clear All")]),(0,r.Lk)("div",Q,[(0,r.Lk)("div",j,[s.selectedBackground?((0,r.uX)(),(0,r.CE)("img",{key:0,src:s.selectedBackground,alt:"Background",class:"background-layer"},null,8,F)):(0,r.Q3)("",!0),s.selectedHairBack?((0,r.uX)(),(0,r.CE)("img",{key:1,src:s.selectedHairBack,alt:"Hair Back",class:"hair-back-layer"},null,8,R)):(0,r.Q3)("",!0),s.selectedJacketBack?((0,r.uX)(),(0,r.CE)("img",{key:2,src:s.selectedJacketBack,alt:"Jacket Back",class:"jacket-back-layer"},null,8,W)):(0,r.Q3)("",!0),s.selectedBody?((0,r.uX)(),(0,r.CE)("img",{key:3,src:s.selectedBody,alt:"Body",class:"body-layer"},null,8,$)):(0,r.Q3)("",!0),s.selectedShirt?((0,r.uX)(),(0,r.CE)("img",{key:4,src:s.selectedShirt,alt:"Shirt",class:"shirt-layer"},null,8,G)):(0,r.Q3)("",!0),s.selectedJacket?((0,r.uX)(),(0,r.CE)("img",{key:5,src:s.selectedJacket,alt:"Jacket",class:"jacket-layer"},null,8,Z)):(0,r.Q3)("",!0),s.selectedEar?((0,r.uX)(),(0,r.CE)("img",{key:6,src:s.selectedEar,alt:"Ear",class:"ear-layer"},null,8,q)):(0,r.Q3)("",!0),s.selectedHead?((0,r.uX)(),(0,r.CE)("img",{key:7,src:s.selectedHead,alt:"Head",class:"head-layer"},null,8,K)):(0,r.Q3)("",!0),s.selectedMouth?((0,r.uX)(),(0,r.CE)("img",{key:8,src:s.selectedMouth,alt:"Mouth",class:"mouth-layer"},null,8,Y)):(0,r.Q3)("",!0),s.selectedNose?((0,r.uX)(),(0,r.CE)("img",{key:9,src:s.selectedNose,alt:"Nose",class:"nose-layer"},null,8,z)):(0,r.Q3)("",!0),s.selectedEye?((0,r.uX)(),(0,r.CE)("img",{key:10,src:s.selectedEye,alt:"Eye",class:"eye-layer"},null,8,ee)):(0,r.Q3)("",!0),s.selectedEyebrow?((0,r.uX)(),(0,r.CE)("img",{key:11,src:s.selectedEyebrow,alt:"Eyebrow",class:"eyebrow-layer"},null,8,te)):(0,r.Q3)("",!0),s.selectedHair?((0,r.uX)(),(0,r.CE)("img",{key:12,src:s.selectedHair,alt:"Hair",class:"hair-layer"},null,8,ae)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",re,[(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>o.openMenu("head")),class:"button"},"Select Head"),(0,r.Lk)("button",{onClick:t[2]||(t[2]=e=>o.openMenu("nose")),class:"button"},"Select Nose"),(0,r.Lk)("button",{onClick:t[3]||(t[3]=e=>o.openMenu("ear")),class:"button"},"Select Ear"),(0,r.Lk)("button",{onClick:t[4]||(t[4]=e=>o.openMenu("eyebrow")),class:"button"},"Select Eyebrow"),(0,r.Lk)("button",{onClick:t[5]||(t[5]=e=>o.openMenu("eye")),class:"button"},"Select Eye"),(0,r.Lk)("button",{onClick:t[6]||(t[6]=e=>o.openMenu("mouth")),class:"button"},"Select Mouth"),(0,r.Lk)("button",{onClick:t[7]||(t[7]=e=>o.openMenu("hair")),class:"button"},"Select Hair"),(0,r.Lk)("button",{onClick:t[8]||(t[8]=e=>o.openMenu("shirt")),class:"button"},"Select Shirt"),(0,r.Lk)("button",{onClick:t[9]||(t[9]=e=>o.openMenu("jacket")),class:"button"},"Select Jacket"),(0,r.Lk)("button",{onClick:t[10]||(t[10]=e=>o.openMenu("background")),class:"button"},"Select Background"),(0,r.Lk)("button",{onClick:t[11]||(t[11]=e=>o.openMenu("body")),class:"button"},"Select Body")])]),s.menuOpen?((0,r.uX)(),(0,r.Wv)(c,{key:0,"is-open":s.menuOpen,part:s.selectedPart,onClose:t[12]||(t[12]=e=>s.menuOpen=!1),onPartSelected:o.setSelectedPart},null,8,["is-open","part","onPartSelected"])):(0,r.Q3)("",!0)])}const se={key:0,class:"thumbnail-grid"},oe=["onClick"],ce={key:0,class:"hair-thumbnail"},ne=["src"],ie=["src"],de=["src","alt"],ue={key:1};function pe(e,t,a,l,s,o){return(0,r.uX)(),(0,r.CE)("div",{class:(0,r.C4)(["sliding-menu",{"is-open":a.isOpen}])},[(0,r.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>o.closeMenu&&o.closeMenu(...e))},"X"),(0,r.Lk)("h3",null,"Select a "+(0,r.v_)(a.part),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.selectNone&&o.selectNone(...e)),class:"none-button"},"None"),s.thumbnails.length>0?((0,r.uX)(),(0,r.CE)("div",se,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.thumbnails,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"thumbnail-container",onClick:t=>o.selectThumbnail(e)},[e.hasBackPart?((0,r.uX)(),(0,r.CE)("div",ce,[(0,r.Lk)("img",{src:e.backPartPath,alt:"Hair Back",class:"hair-back-layer"},null,8,ne),(0,r.Lk)("img",{src:e.filePath,alt:"Hair Front",class:"hair-front-layer"},null,8,ie)])):((0,r.uX)(),(0,r.CE)("img",{key:1,src:e.filePath,alt:e.name,class:"thumbnail-card"},null,8,de)),(0,r.Lk)("p",null,(0,r.v_)(e.name),1)],8,oe)))),128))])):((0,r.uX)(),(0,r.CE)("p",ue,"No images found for this part type."))],2)}const he={props:["isOpen","part"],data(){return{thumbnails:[]}},methods:{closeMenu(){this.$emit("close")},selectThumbnail(e){this.$emit("part-selected",e.filePath,this.part,e.hasBackPart,e.backPartPath)},selectNone(){this.$emit("part-selected","none",this.part)},fetchThumbnails(){const e=(0,M.KR)(U,"parts");(0,M.Zy)(e,(e=>{const t=e.val();t?this.thumbnails=Object.values(t).filter((e=>{const t=e.type.toLowerCase();return t===this.part.toLowerCase()||t===`${this.part.toLowerCase()}s`})):console.warn(`No parts found for type: ${this.part}`)}),(e=>{console.error("Error fetching parts:",e)}))}},watch:{part(e){e&&this.fetchThumbnails()}},mounted(){this.fetchThumbnails()}},ke=(0,d.A)(he,[["render",pe],["__scopeId","data-v-04a54bca"]]),me=ke,be={components:{SlidingMenu:me},data(){return{menuOpen:!1,selectedPart:null,selectedHead:null,selectedNose:null,selectedEar:null,selectedEyebrow:null,selectedEye:null,selectedMouth:null,selectedHair:null,selectedHairBack:null,selectedJacket:null,selectedJacketBack:null,selectedBody:null,selectedShirt:null,selectedBackground:null}},methods:{openMenu(e){this.menuOpen=!0,this.selectedPart=e},setSelectedPart(e,t,a=!1,r=null){"none"===e&&(e=this.getBlankSvg()),"head"===this.selectedPart?this.selectedHead=e:"nose"===this.selectedPart?this.selectedNose=e:"ear"===this.selectedPart?this.selectedEar=e:"eyebrow"===this.selectedPart?this.selectedEyebrow=e:"eye"===this.selectedPart?this.selectedEye=e:"mouth"===this.selectedPart?this.selectedMouth=e:"hair"===this.selectedPart?(this.selectedHair=e,this.selectedHairBack=a&&r?r:null):"jacket"===this.selectedPart?(this.selectedJacket=e,this.selectedJacketBack=a&&r?r:null):"body"===this.selectedPart?this.selectedBody=e:"shirt"===this.selectedPart?this.selectedShirt=e:"background"===this.selectedPart&&(this.selectedBackground=e),this.saveToLocalStorage()},clearAll(){this.selectedHead=null,this.selectedNose=null,this.selectedEar=null,this.selectedEyebrow=null,this.selectedEye=null,this.selectedMouth=null,this.selectedHair=null,this.selectedHairBack=null,this.selectedJacket=null,this.selectedJacketBack=null,this.selectedBody=null,this.selectedShirt=null,this.selectedBackground=null,this.saveToLocalStorage()},saveToLocalStorage(){const e={selectedHead:this.selectedHead,selectedNose:this.selectedNose,selectedEar:this.selectedEar,selectedEyebrow:this.selectedEyebrow,selectedEye:this.selectedEye,selectedMouth:this.selectedMouth,selectedHair:this.selectedHair,selectedHairBack:this.selectedHairBack,selectedJacket:this.selectedJacket,selectedJacketBack:this.selectedJacketBack,selectedBody:this.selectedBody,selectedShirt:this.selectedShirt,selectedBackground:this.selectedBackground};localStorage.setItem("characterParts",JSON.stringify(e))},loadFromLocalStorage(){const e=JSON.parse(localStorage.getItem("characterParts"));e&&(this.selectedHead=e.selectedHead,this.selectedNose=e.selectedNose,this.selectedEar=e.selectedEar,this.selectedEyebrow=e.selectedEyebrow,this.selectedEye=e.selectedEye,this.selectedMouth=e.selectedMouth,this.selectedHair=e.selectedHair,this.selectedHairBack=e.selectedHairBack,this.selectedJacket=e.selectedJacket,this.selectedJacketBack=e.selectedJacketBack,this.selectedBody=e.selectedBody,this.selectedShirt=e.selectedShirt,this.selectedBackground=e.selectedBackground)},getBlankSvg(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIvPjwvc3ZnPg=="}},mounted(){this.loadFromLocalStorage()}},ye=(0,d.A)(be,[["render",le],["__scopeId","data-v-6ca93454"]]),Pe=ye,ge={class:"edit-part-wrapper"},fe={class:"edit-part"},ve={class:"image-container"},Le=["src"],Ee={class:"form-container"},Ce={class:"form-group"},Be={class:"form-group"},Se={class:"form-group"},we={class:"form-group"},_e={key:0,class:"form-group"},Ne={class:"form-group"},Ie={key:1,class:"form-group"},Me={class:"form-group"},He={class:"radio-group"},Xe={class:"form-group"},Ae={key:0,class:"delete-popup-overlay"},Je={class:"delete-popup"},Ue={class:"popup-buttons"};function Oe(e,t,a,l,s,o){const c=(0,r.g2)("AppOverlay");return(0,r.uX)(),(0,r.CE)("div",ge,[(0,r.Lk)("div",fe,[(0,r.Lk)("div",ve,[(0,r.Lk)("img",{src:s.part.filePath,alt:"Part Image",class:"part-image"},null,8,Le)]),(0,r.Lk)("div",Ee,[t[28]||(t[28]=(0,r.Lk)("h3",null,"Edit Part",-1)),(0,r.Lk)("form",{onSubmit:t[12]||(t[12]=(0,r.D$)(((...e)=>o.savePart&&o.savePart(...e)),["prevent"]))},[(0,r.Lk)("div",Ce,[t[15]||(t[15]=(0,r.Lk)("label",{for:"characterName"},"Character Name (optional)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.part.characterName=e),placeholder:"Enter character name"},null,512),[[r.Jo,s.part.characterName]])]),(0,r.Lk)("div",Be,[t[16]||(t[16]=(0,r.Lk)("label",{for:"name"},"Part Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.part.name=e),placeholder:"Enter part name",required:""},null,512),[[r.Jo,s.part.name]])]),(0,r.Lk)("div",Se,[t[17]||(t[17]=(0,r.Lk)("label",{for:"style"},"Style (optional)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.part.style=e),placeholder:"Enter style"},null,512),[[r.Jo,s.part.style]])]),(0,r.Lk)("div",we,[t[18]||(t[18]=(0,r.Lk)("label",{for:"type"},"Type (e.g., head, eyes, etc.)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.part.type=e),placeholder:"Enter part type",required:""},null,512),[[r.Jo,s.part.type]])]),"hair"===s.part.type||"jacket"===s.part.type?((0,r.uX)(),(0,r.CE)("div",_e,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>s.part.hasBackPart=e)},null,512),[[r.lH,s.part.hasBackPart]]),t[19]||(t[19]=(0,r.eW)(" Has Back Part "))])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Ne,[t[20]||(t[20]=(0,r.Lk)("label",{for:"filePath"},"File Path",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.part.filePath=e),placeholder:"Enter file path",required:""},null,512),[[r.Jo,s.part.filePath]])]),s.part.hasBackPart?((0,r.uX)(),(0,r.CE)("div",Ie,[t[21]||(t[21]=(0,r.Lk)("label",{for:"backPartPath"},"Back Part File Path",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>s.part.backPartPath=e),placeholder:"Enter back part file path"},null,512),[[r.Jo,s.part.backPartPath]])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Me,[t[25]||(t[25]=(0,r.Lk)("label",{for:"noun"},"Noun",-1)),(0,r.Lk)("div",He,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=e=>s.part.noun=e),value:"Person"},null,512),[[r.XL,s.part.noun]]),t[22]||(t[22]=(0,r.eW)(" Person "))]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>s.part.noun=e),value:"Place"},null,512),[[r.XL,s.part.noun]]),t[23]||(t[23]=(0,r.eW)(" Place "))]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=e=>s.part.noun=e),value:"Thing"},null,512),[[r.XL,s.part.noun]]),t[24]||(t[24]=(0,r.eW)(" Thing "))])])]),(0,r.Lk)("div",Xe,[t[26]||(t[26]=(0,r.Lk)("label",{for:"tags"},"Tags (comma-separated)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>s.tagsInput=e),placeholder:"Enter tags"},null,512),[[r.Jo,s.tagsInput]])]),t[27]||(t[27]=(0,r.Lk)("button",{type:"submit"},"Save Part",-1)),(0,r.Lk)("button",{type:"button",onClick:t[11]||(t[11]=(...e)=>o.confirmDelete&&o.confirmDelete(...e)),class:"delete-button"},"Delete Part")],32)])]),s.showDeletePopup?((0,r.uX)(),(0,r.CE)("div",Ae,[(0,r.Lk)("div",Je,[t[29]||(t[29]=(0,r.Lk)("p",null,"Are you sure you want to delete this part?",-1)),(0,r.Lk)("div",Ue,[(0,r.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>o.deletePart&&o.deletePart(...e))},"Yes"),(0,r.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>o.closeDeletePopup&&o.closeDeletePopup(...e))},"No")])])])):(0,r.Q3)("",!0),(0,r.bF)(c,{visible:s.saved,message:"Saved!"},null,8,["visible"]),(0,r.bF)(c,{visible:s.deleted,message:"Deleted!"},null,8,["visible"])])}const Te={key:0,class:"overlay"};function Ve(e,t,a,l,s,o){return a.visible?((0,r.uX)(),(0,r.CE)("div",Te,[(0,r.Lk)("p",null,(0,r.v_)(a.message),1)])):(0,r.Q3)("",!0)}const De={props:{visible:{type:Boolean,required:!0},message:{type:String,required:!0}}},xe=(0,d.A)(De,[["render",Ve],["__scopeId","data-v-b8aed38a"]]),Qe=xe,je={components:{AppOverlay:Qe},data(){return{part:{characterName:"",name:"",style:"",type:"",noun:"",filePath:"",hasBackPart:!1,backPartPath:"",tags:[]},tagsInput:"",showDeletePopup:!1,saved:!1,deleted:!1}},methods:{fetchPart(e){const t=(0,M.KR)(U,"parts");(0,M.Zy)(t,(t=>{const a=t.val(),r=Object.values(a).find((t=>t.name===e));r?(this.part=r,this.tagsInput=this.part.tags.join(", ")):console.error("Part not found")}))},savePart(){if(this.part){this.part.tags=this.tagsInput.split(",").map((e=>e.trim()));const e=(0,M.KR)(U,`parts/${this.part.id}`);(0,M.yo)(e,this.part).then((()=>{this.saved=!0,setTimeout((()=>{this.saved=!1}),2e3)})).catch((e=>console.error("Error updating part:",e)))}},confirmDelete(){this.showDeletePopup=!0},closeDeletePopup(){this.showDeletePopup=!1},deletePart(){const e=(0,M.KR)(U,`parts/${this.part.id}`);(0,M.TF)(e).then((()=>{this.deleted=!0,setTimeout((()=>{this.deleted=!1,this.$router.push("/find-parts")}),2e3)})).catch((e=>console.error("Error deleting part:",e)))}},mounted(){const e=this.$route.params.name;e?this.fetchPart(e):console.error("Part name is missing from route params")}},Fe=(0,d.A)(je,[["render",Oe],["__scopeId","data-v-3b86f66c"]]),Re=Fe,We={class:"find-parts-wrapper"},$e={class:"find-parts-container"},Ge={key:0,class:"masonry-grid"},Ze=["src","alt"],qe={class:"card-footer"},Ke=["onClick"],Ye={key:1};function ze(e,t,a,l,s,o){return(0,r.uX)(),(0,r.CE)("div",We,[(0,r.Lk)("div",$e,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"search-bar","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>o.filterParts&&o.filterParts(...e)),placeholder:"Search for parts by name or tags..."},null,544),[[r.Jo,s.searchQuery]]),s.filteredParts.length>0?((0,r.uX)(),(0,r.CE)("div",Ge,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.filteredParts,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"card"},[(0,r.Lk)("img",{src:e.filePath,alt:e.name,class:"part-image"},null,8,Ze),(0,r.Lk)("div",qe,[(0,r.Lk)("p",null,(0,r.v_)(e.name),1),(0,r.Lk)("button",{onClick:t=>o.viewPartDetails(e)},"Info",8,Ke)])])))),128))])):((0,r.uX)(),(0,r.CE)("p",Ye,"No parts found. Please enter a search term."))])])}const et={data(){return{parts:[],filteredParts:[],searchQuery:""}},methods:{fetchParts(){const e=(0,M.KR)(U,"parts");(0,M.Zy)(e,(e=>{const t=e.val();this.parts=t?Object.values(t):[],this.filteredParts=[]}))},filterParts(){if(""===this.searchQuery.trim())this.filteredParts=[];else{const e=this.searchQuery.toLowerCase();this.filteredParts=this.parts.filter((t=>t.name.toLowerCase().includes(e)||t.tags&&t.tags.some((t=>t.toLowerCase().includes(e)))))}},viewPartDetails(e){this.$router.push({name:"EditPart",params:{name:e.name}})}},mounted(){this.fetchParts()}},tt=(0,d.A)(et,[["render",ze],["__scopeId","data-v-6b31c8c4"]]),at=tt,rt=[{path:"/",component:Pe},{path:"/add-part",component:V},{path:"/find-parts",component:at},{path:"/edit-part/:name",name:"EditPart",component:Re}],lt=(0,b.aE)({history:(0,b.Bt)("/character_creator/"),routes:rt}),st=lt,ot={parts:{head:[]}},ct={SET_PART_OPTIONS(e,{partName:t,options:a}){e.parts[t]=a}},nt={async loadPartOptions({commit:e},t){}},it={getPartOptions:e=>t=>e.parts[t]||[]},dt={namespaced:!0,state:ot,mutations:ct,actions:nt,getters:it};var ut=a(278);const pt=(0,ut.y$)({modules:{character:dt}}),ht=(0,r.Ef)(m);ht.use(pt),ht.use(st),ht.mount("#app")}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,(()=>{var e=[];a.O=(t,r,l,s)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,l,s]=e[d],c=!0,n=0;n<r.length;n++)(!1&s||o>=s)&&Object.keys(a.O).every((e=>a.O[e](r[n])))?r.splice(n--,1):(c=!1,s<o&&(o=s));if(c){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,l,s]}})(),(()=>{a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var l,s,[o,c,n]=r,i=0;if(o.some((t=>0!==e[t]))){for(l in c)a.o(c,l)&&(a.m[l]=c[l]);if(n)var d=n(a)}for(t&&t(r);i<o.length;i++)s=o[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunkcharacter_creator"]=self["webpackChunkcharacter_creator"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[504],(()=>a(78)));r=a.O(r)})();
//# sourceMappingURL=app.6890e9f6.js.map